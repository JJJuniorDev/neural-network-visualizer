<div class="guide-panel">
  <div class="guide-header">
    <a routerLink="/" class="back-link" (click)="goToDashboard()">â† Torna alla dashboard</a>
    <span class="header-icon">ğŸ”</span>
    <span class="header-title">Dataset Shape Guide</span>
  </div>

  <div class="guide-content">
    
    <!-- PASSO 1: Come visualizzare i propri dati -->
    <div class="step-card">
      <h3>ğŸ“Š PASSO 1: Visualizza i tuoi dati</h3>
      <p>Copia questo codice Python per vedere la forma del tuo dataset:</p>
      
      <div class="code-block">
        <pre><code>import numpy as np
import matplotlib.pyplot as plt

# I TUOI DATI
X = np.random.randn(100, 2)
y = np.random.randint(0, 2, 100)

plt.figure(figsize=(8, 6))
plt.scatter(X[:, 0], X[:, 1], c=y, cmap='coolwarm', alpha=0.7)
plt.colorbar()
plt.title('I tuoi dati')
plt.xlabel('Feature 1')
plt.ylabel('Feature 2')
plt.grid(True, alpha=0.3)
plt.show()</code></pre>
        <button class="copy-btn" (click)="copyToClipboard()">ğŸ“‹ Copia</button>
      </div>
      
      <p class="tip">ğŸ’¡ Sostituisci la generazione casuale con il caricamento del tuo file CSV.</p>
    </div>

    <!-- PASSO 2: Confronta con le forme di esempio -->
    <div class="step-card">
      <h3>ğŸ” PASSO 2: Confronta con le forme classiche</h3>
      <p>I tuoi dati assomigliano a una di queste forme? Clicca sul grafico piÃ¹ simile:</p>
    </div>

    <!-- Griglia di forme con CANVAS -->
    <div class="shapes-gallery">
      <div class="shape-card" *ngFor="let shape of allShapes" (click)="selectShape(shape)">
        <div class="canvas-container">
          <canvas #canvas [id]="'canvas-' + shape.id" width="200" height="200"></canvas>
        </div>
        <div class="shape-footer">
          <span class="shape-icon">{{shape.icon}}</span>
          <span class="shape-name">{{shape.name}}</span>
        </div>
        <div class="shape-badge" [style.background]="shape.color">esempio</div>
      </div>
    </div>

    <!-- Dettaglio della forma selezionata -->
    <div class="shape-detail" *ngIf="selectedShape" [style.border-left-color]="selectedShape.color">
      <div class="detail-header">
        <span class="detail-icon">{{selectedShape.icon}}</span>
        <h4>Hai selezionato: {{selectedShape.name}}</h4>
      </div>
      
      <div class="detail-content">
        <div class="detail-canvas">
          <canvas [id]="'canvas-detail-' + selectedShape.id" width="300" height="300"></canvas>
          <p class="canvas-caption">Dataset {{selectedShape.name}} (200 punti)</p>
        </div>

        <div class="detail-info">
          <div class="characteristics">
            <strong>Caratteristiche:</strong>
            <div class="char-tags">
              <span class="char-tag" *ngFor="let char of selectedShape.characteristics">{{char}}</span>
            </div>
          </div>

          <div class="approach-box">
            <h5>ğŸ’¡ Approccio consigliato</h5>
            <p>{{selectedShape.approach}}</p>
            
            <div class="architecture">
              <strong>Architettura tipica:</strong>
              <ul>
                <li *ngFor="let layer of selectedShape.architecture">{{layer}}</li>
              </ul>
            </div>

            <div class="pros-cons">
              <div class="pros">
                <strong>âœ… Pro:</strong>
                <ul>
                  <li *ngFor="let pro of selectedShape.pros">{{pro}}</li>
                </ul>
              </div>
              <div class="cons">
                <strong>âš ï¸ Contro:</strong>
                <ul>
                  <li *ngFor="let con of selectedShape.cons">{{con}}</li>
                </ul>
              </div>
            </div>

            <button class="apply-btn" (click)="applyApproach(selectedShape)">
              <span>ğŸ”§ Usa questo approccio</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="guide-footer">
      <p>ğŸ“Œ <strong>Regola d'oro:</strong> La forma dei dati Ã¨ il primo indizio per scegliere l'architettura. Confronta il tuo plot con quelli sopra!</p>
    </div>
  </div>
</div>